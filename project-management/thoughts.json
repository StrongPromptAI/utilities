[
  {
    "id": 1,
    "thought": "Restore environment skill - move from deleted railway/ folder to push/environment.md",
    "project": "repo_docs",
    "created": "2026-01-09T19:15:00-07:00",
    "completed": "2026-01-09T19:20:00-07:00",
    "status": "done"
  },
  {
    "id": 2,
    "thought": "Set up staging environment on Railway for smoke testing before production deploys",
    "project": "mainstreak",
    "created": "2026-01-09T19:25:00-07:00",
    "status": "open",
    "skills": ["push", "push/railway", "push/environment"]
  },
  {
    "id": 3,
    "thought": "Review ANTIPATTERN-ADDITIONS-SPEC.md and merge missing patterns into skill-curation, then delete spec",
    "project": "repo_docs",
    "created": "2026-01-09T19:30:00-07:00",
    "completed": "2026-01-09T19:35:00-07:00",
    "status": "done"
  },
  {
    "id": 4,
    "thought": "Rewrite README_CURSOR.md as generic README with git commits as release notes",
    "project": "repo_docs",
    "created": "2026-01-09T19:35:00-07:00",
    "completed": "2026-01-09T19:38:00-07:00",
    "status": "done"
  },
  {
    "id": 5,
    "thought": "Review uv and golden-stack skills - ensure right content, right way to write it, and durable enough to be always-loaded rules",
    "project": "repo_docs",
    "created": "2026-01-09T19:40:00-07:00",
    "completed": "2026-01-09T20:15:00-07:00",
    "status": "done",
    "prompt": "Optimize uv and golden-stack for always-loaded context (now that tier classification is complete):\n\n**Part 1: Ruthless Pruning**\n- Read uv/SKILL.md and golden-stack/SKILL.md (measure current size)\n- Both now have `tier: rules` in frontmatter (verified)\n- Cut anything not essential to preventing mistakes\n- Target: uv ≤30 lines, golden-stack ≤150 lines\n- Keep: What Claude MUST know to avoid errors\n- Cut: Examples, rationale, context that belongs elsewhere\n\n**Part 2: Discoverability Fix**\n- Problem: Skill index doesn't help projects find the right skill during work\n- Solution: Add \"When to use\" trigger sections that trigger recognition\n  - Example uv: \"If you see: python/pip commands → use uv instead\"\n  - Example golden-stack: \"If designing: architecture/patterns → read 5 principles\"\n- This makes skills self-advertising within their content\n\n**Part 3: Compact Skill Index (Now with Tier Data)**\n- Instead of markdown index, create ultra-compact skill index\n- **Option A: Pipe-delimited (readable, ~700 bytes with tier)**\n  Format: name|description|keywords|tier|parent\n  Example rows:\n    uv|Python package manager|python,pip,uv run|rules|null\n    golden-stack|6 coding principles|architecture,patterns,DIP|rules|null\n    push|Deployment workflow|deploy,release,railway|core|null\n    postgres|PostgreSQL patterns|database,connection,migration|core|null\n    bfr-comms|Burnt Fork Ranch communication|comms,bfr|optional|null\n- **Option B: Base64-encoded binary blob (smallest, ~250 bytes with tier)**\n  Format: [skill_id:1 byte][name_len:1 byte][name:var][keywords:compact][tier:1 byte][parent:var]\n  Encode as: <!-- SKILL_INDEX_BASE64: QQEydXY... -->\n  Pros: 3x smaller, machine-parseable, sortable by tier\n  Cons: Less human-readable\n- Goal: Index takes <800 bytes instead of 1.5KB+ markdown\n- Place in: project-setup/SKILL.md rules so always-loaded\n- Include tier in index so Claude can prioritize rules vs core vs optional\n- Test: Verify Claude can find right skill from keywords + tier during work\n\n**Part 4: Skill Linking**\n- Verify: Are uv and golden-stack clearly referenced in project-setup?\n- Improve: Make setup explain \"These two are rules (tier: rules) - always loaded\"\n- Add: Guidance on why they're rules: \"Sets development standards every session\"\n\nResult: Lean always-loaded files (uv + golden-stack), compact index with tier data, better self-discovery, rules clearly marked."
  },
  {
    "id": 6,
    "thought": "Incorporate cicd-strongbase-devops into push skill as sub-skill",
    "project": "repo_docs",
    "created": "2026-01-09T19:45:00-07:00",
    "completed": "2026-01-09T19:48:00-07:00",
    "status": "done"
  },
  {
    "id": 7,
    "thought": "Classify skills into Rules, Core, and Optional tiers",
    "project": "repo_docs",
    "created": "2026-01-09T19:50:00-07:00",
    "completed": "2026-01-09T20:05:00-07:00",
    "status": "done"
  },
  {
    "id": 8,
    "thought": "Update StrongPrompt website to serve financial services and healthcare verticals, not just banking",
    "project": "strongprompt-website",
    "created": "2026-01-09T19:55:00-07:00",
    "status": "open"
  },
  {
    "id": 9,
    "thought": "Set up Claude Code post_tool_error hook in lora_training to flow errors to PM error-queue",
    "project": "lora_training",
    "created": "2026-01-09T20:00:00-07:00",
    "completed": "2026-01-10T03:05:00-07:00",
    "status": "done",
    "prompt": "Create post_tool_error hook in lora_training that automatically logs Claude Code errors to PM:\n\n**Goal**: When Claude Code fails while working in lora_training, errors automatically flow to ~/repos/pm/error-queue.json for pattern analysis and skill improvement.\n\n**Why this matters**: \n- Errors reveal skill gaps (missing guidance, unclear instructions, wrong assumptions)\n- Patterns in errors → generate skill improvement tasks\n- Real-world feedback loop: Work → Errors → Analysis → Better Skills\n\n**Architecture (Error Flow)**:\n```\nlora_training session\n    ↓\nTool fails (Bash, Edit, Read, etc.)\n    ↓\n.claude/hooks/post_tool_error.sh fires\n    ↓\nHook calls ~/repos/pm/log-error.sh with error details\n    ↓\nlog-error.sh appends to ~/repos/pm/error-queue.json\n    ↓\nYou review errors weekly in PM, analyze patterns monthly\n```\n\n**Implementation**:\n\n1. **Create hook directory**\n   ```bash\n   mkdir -p ~/repos/lora_training/.claude/hooks\n   ```\n\n2. **Create post_tool_error.sh hook**\n   - Location: `~/repos/lora_training/.claude/hooks/post_tool_error.sh`\n   - Make executable: `chmod +x post_tool_error.sh`\n   - The hook should:\n     - Capture error info from Claude Code (tool name, error message, exit code)\n     - Determine error_type based on exit code or message pattern\n     - Call: `~/repos/pm/log-error.sh \"$TOOL\" \"$ERROR_TYPE\" \"$ERROR_MESSAGE\" \"lora_training: [brief context]\"`\n     - Handle missing/malformed data gracefully\n     - NOT interfere with Claude Code's normal error handling\n\n3. **Hook script content guidance**:\n   - Read error environment variables passed by Claude Code (exact names TBD - may be `$TOOL`, `$ERROR`, `$ERROR_TYPE`, etc.)\n   - If some vars missing, infer from context\n   - Call log-error.sh with available data\n   - Example:\n     ```bash\n     #!/bin/bash\n     TOOL=\"${TOOL:-Unknown}\"\n     ERROR_TYPE=\"${ERROR_TYPE:-other}\"\n     ERROR_MESSAGE=\"${ERROR_MESSAGE:-Unknown error}\"\n     ~/repos/pm/log-error.sh \"$TOOL\" \"$ERROR_TYPE\" \"$ERROR_MESSAGE\" \"lora_training: tool error\"\n     ```\n\n4. **Test the hook**:\n   - Open Claude Code in ~/repos/lora_training\n   - Intentionally trigger a tool error (e.g., bad Bash syntax like `cd /nonexistent`)\n   - Check: Does error appear in ~/repos/pm/error-queue.json?\n   - Verify error_id incremented\n   - Verify all fields populated correctly\n   - If not, adjust hook to capture right env vars\n\n5. **Real-world Example**:\n   When this error occurs in lora_training:\n   ```\n   Bash: cd /Users/metatron3/repo_docs && git push origin main\n   Error: ! [rejected] main -> main (fetch first)\n   ```\n   \n   Hook automatically logs to ~/repos/pm/error-queue.json as:\n   ```json\n   {\n     \"id\": 2,\n     \"timestamp\": \"2026-01-09T20:30:00-07:00\",\n     \"tool\": \"Bash\",\n     \"error_type\": \"other\",\n     \"error_message\": \"git push rejected: remote contains work not in local\",\n     \"context\": \"lora_training: Attempted git push to repo_docs main\",\n     \"skill_involved\": \"push/railway\",\n     \"recovery\": \"\",\n     \"status\": \"open\"\n   }\n   ```\n\n6. **Review process** (happens in PM repo):\n   - Weekly: Scan error-queue.json for patterns\n   - Monthly: Analyze patterns → create skill improvement tasks\n   - Example findings:\n     - If 3+ \"not_found\" errors on Glob → improve Glob guidance in golden-stack\n     - If git push fails → add fetch-first checklist to push/railway skill\n     - If Edit fails → improve Edit tool guidance with examples\n\n**Files Involved**:\n- Create: `~/repos/lora_training/.claude/hooks/post_tool_error.sh` (new hook)\n- Already exists: `~/repos/pm/log-error.sh` (logs errors)\n- Already exists: `~/repos/pm/error-queue.json` (error database)\n- View/analyze: `~/repos/pm/thoughts.json` task #9 for error analysis\n\n**Success Criteria**:\n- Hook created and executable\n- Hook doesn't break Claude Code normal operation\n- Errors from lora_training automatically appear in error-queue.json\n- error_id increments correctly\n- Timestamps are ISO 8601\n- All fields populated (or gracefully empty)\n- You can review errors later without manual logging\n\nResult: Automatic error capture → Skill gaps identified → Better guidance in future sessions."
  },
  {
    "id": 11,
    "thought": "Migrate remaining Vercel-hosted sites to Railway and compare CLI patterns",
    "project": "repo_docs/push",
    "created": "2026-01-09T20:10:00-07:00",
    "status": "open",
    "prompt": "Research and plan Vercel → Railway migration strategy:\n\n**Goal**: Identify all sites still on Vercel, migrate to Railway, keep deployment code DRY by leveraging CLI similarity.\n\n**Part 1: Inventory Current Vercel Deployments**\n- Check Vercel dashboard or CLI: `vercel list` (if available)\n- Audit these repos for Vercel references:\n  - .vercel/ folders\n  - vercel.json config files\n  - package.json scripts with \"vercel\" in them\n  - GitHub Actions workflows deploying to Vercel\n  - DNS/domain configs pointing to Vercel\n- Document for each site:\n  - Project name\n  - Framework/type (Next.js, static site, API, etc.)\n  - Current Vercel config (vercel.json if exists)\n  - Environment variables in Vercel\n  - Current domain(s)\n  - Build/deploy requirements\n\n**Part 2: Research Vercel CLI vs Railway CLI Similarity**\n- **Vercel CLI comparison**:\n  - Command structure: `vercel [command] [options]`\n  - Key commands: `vercel login`, `vercel link`, `vercel deploy`, `vercel env`, `vercel logs`\n  - Config file: `vercel.json`\n  - Authentication: `~/.vercel/auth.json`\n- **Railway CLI patterns** (from existing push/railway.md skill):\n  - Command structure: `railway [command]`\n  - Key commands: `railway link`, `railway up`, `railway variables`, `railway logs`, `railway domain`\n  - Config file: `.railwayrc`\n  - Authentication: `~/.railway/config.json`\n- **Analyze similarities**:\n  - Do both support same authentication flow? (token-based)\n  - Similar deploy syntax? (push-to-deploy vs explicit deploy command)\n  - How do env vars work in each?\n  - Domain/custom domain setup differences\n  - Logging and monitoring capabilities\n  - Build configuration options\n- **Find common abstraction** (for code reuse):\n  - Can we create wrapper script that abstracts platform differences?\n  - Example: `deploy.sh --platform=railway` vs `deploy.sh --platform=vercel`\n  - Or should each platform have own script in push/vercel.md skill?\n\n**Part 3: Create Migration Plan**\n- For each site:\n  - Step 1: Set up Railway project\n  - Step 2: Migrate environment variables\n  - Step 3: Configure domain/DNS\n  - Step 4: Verify deployment works\n  - Step 5: Cut over traffic\n  - Step 6: Decommission Vercel project\n- Identify any blockers (Vercel-specific features, costs, team permissions)\n\n**Part 4: Plan push/vercel.md Skill** (future, for comparison)\n- Document Vercel deployment patterns (similar to push/railway.md)\n- Include: CLI reference, environment setup, domain config, logging\n- Note similarities/differences with Railway for developers\n- Consider: Is push/vercel.md needed long-term or just migration guide?\n\n**Part 5: DRY Deployment Code Strategy**\n- Option A: Single abstraction layer\n  - `push/deploy.sh --platform=railway|vercel [options]`\n  - Pros: One mental model, code reuse\n  - Cons: Adds abstraction overhead\n- Option B: Parallel skills\n  - `push/railway.md` (maintained)\n  - `push/vercel.md` (new, for comparison)\n  - Pros: Each platform fully documented\n  - Cons: Code duplication\n- Option C: Hybrid\n  - push/railway.md fully featured\n  - push/vercel.md minimal (\"use Railway instead, here's migration guide\")\n  - Pros: Clear migration path, minimal maintenance\n  - Cons: Assumes Vercel becomes legacy\n\nResult: Complete inventory of Vercel sites, CLI comparison docs, migration playbook, decision on code reuse strategy."
  },
  {
    "id": 12,
    "thought": "Implement PDF color and font changes for BFR retreat documentation",
    "project": "bfr-comms",
    "created": "2026-01-09T20:20:00-07:00",
    "status": "open",
    "prompt": "Update PDF styling for BFR retreat documentation per Karen's requirements:\n\n**Color Updates**:\n- Primary brand color: Cognac A6361E (burnt brown)\n- Apply to: Main header and all headings below it\n- Goal: Create consistent BFR branding throughout document\n\n**Top Banner Content Updates**:\nAdd the following sections to top banner (keeping existing location data below as \"general Quick Look at properties to be used\"):\n\n1. **Facilities Used**\n   - Keep locations listed below as reference\n   - Label as: \"Facilities used: [list or dropdown]\"\n   - Shows which property/ies the retreat will use\n\n2. **Retreat Package**\n   - Show selected retreat type/name\n   - Options: Wrangler, Trailhead, Big Sky, etc.\n   - This indicates which pre-configured package is being used\n\n3. **Service and Support**\n   - Concierge service: Yes/No toggle\n   - This is a binary option showing if full service support is included\n\n4. **Transport Included**\n   - Transport included: Yes/No toggle\n   - Shows whether ground transportation is part of package\n\n**PDF Structure Guidance**:\n- Find the PDF generation code (likely using a library like reportlab, weasyprint, or similar)\n- Locate header styling section\n- Update color hex values to A6361E\n- Update font styling if needed for Cognac color readability\n- Locate top banner/summary section\n- Add four new fields in logical order\n- Ensure toggles/dropdowns work in PDF form if interactive\n- Test rendering with sample data\n\n**Files to Check**:\n- Look for PDF template or generation script in bfr-comms project\n- Check for existing color definitions (may be hardcoded hex or variable)\n- Check for banner/header template section\n- Verify with Karen that layout/order is correct before finalizing\n\n**Testing**:\n- Generate sample PDF with new colors\n- Verify Cognac A6361E displays as expected (burnt brown)\n- Confirm all four new banner fields render correctly\n- Test with both Yes and No states for toggles\n- Check font readability with new color\n- Get approval from Karen and Ben before deployment\n\nResult: BFR-branded PDFs with updated colors and comprehensive retreat package information in top banner."
  },
  {
    "id": 13,
    "thought": "Promote planning skill from draft spec to production in repo_docs",
    "project": "repo_docs",
    "created": "2026-01-10T03:15:00-07:00",
    "completed": "2026-01-10T03:30:00-07:00",
    "status": "done",
    "skills": ["golden-stack", "skill-curation"],
    "prompt": "Promote the planning skill from draft spec to production repo_docs.\n\n**Source**: /Users/metatron3/repos/lora_training/symlink_docs/plans/planning-skill-spec.md (v0.1 draft)\n\n**Goal**: Formalize planning practices across projects by creating planning/SKILL.md in repo_docs with complete implementation.\n\n**What's Already Defined in Draft**:\n✓ Core principle: No chronological timelines (use phases, milestones, dependency-ordered tasks)\n✓ Plans live in symlink_docs/plans/ (single source of truth, not ad-hoc project folders)\n✓ Versioning integration section (MAJOR/MINOR/PATCH bumps per versioning/SKILL.md)\n✓ Anti-patterns table (what not to do)\n✓ Plan document template (Goal, Context, Scope, Phases, Versioning, Open Questions, References)\n✓ Scope section (In/Out of scope prevents creep)\n\n**What to Add/Enhance**:\n1. **Context window management** (your 200k token requirement)\n   - Add section: \"Context Window Breakpoints\"\n   - Guidance: How to estimate tokens per phase, when to compact/clear context\n   - Example: Phase 1 (~40k), Phase 2 (~50k), etc. with context switching points\n\n2. **Executive Summary for non-developers**\n   - Add section: \"Executive Summary\" (PM-facing, not developer-facing)\n   - 2-3 sentences of business value/impact\n   - Should include one Mermaid diagram showing flow\n\n3. **Dependency diagram examples**\n   - Add Mermaid flowchart/graph examples showing task dependencies\n   - Show how to visualize what blocks what\n   - Example: OAuth setup → provider integration → session migration flow\n\n4. **Skills inventory**\n   - Add section: \"Skills Required\"\n   - List which repo_docs skills are invoked during execution\n   - Format: `skill-name: \"How it's used in this plan\"`\n\n5. **Timestamps (ISO 8601)**\n   - Update template: Change \"Date: YYYY-MM-DD\" to \"Created: YYYY-MM-DDTHH:MM:SS-07:00\"\n   - Add optional: \"Last Updated: YYYY-MM-DDTHH:MM:SS-07:00\"\n\n6. **Success Criteria & Risk Fallbacks**\n   - Add sections: \"Success Criteria\" (checkboxes) and \"Known Risks & Fallbacks\"\n   - Example: \"Risk: OAuth outage → Fallback: Keep sessions for 30 days\"\n\n7. **Answer Open Questions from Draft**\n   - Naming: Use `YYYY-MM-DD-feature-name.md` format in symlink_docs/plans/\n   - Archival: Completed plans get `## Status: Completed` header, stay in place for reference\n   - TodoWrite integration: Plans can seed todo lists (but PM captures thoughts separately)\n\n**Frontmatter** (planning/SKILL.md):\n```yaml\n---\nname: Planning\nversion: 1.0\ncreated: 2026-01-10T03:15:00-07:00\ntier: rules\nkeywords: planning, dependencies, no-timelines, context-window, phases, versioning, symlink_docs\n---\n```\n\n**Structure for planning/SKILL.md**:\n1. When to Use (link to symlink_docs/plans/ examples)\n2. Core Principles (from draft: no timelines, symlink_docs location, versioning integration)\n3. Plan Template (expanded with all sections above)\n4. Anti-Patterns Table (from draft)\n5. Mermaid Diagram Examples (3-4 different plan types: feature, refactor, migration, infrastructure)\n6. Context Window Management (your 200k token requirement)\n7. Related Skills (versioning/SKILL.md, push, skill-curation)\n\n**Optional**: Create 2-3 example plans in symlink_docs/plans/ as reference implementations.\n\n**Success Criteria**:\n- [ ] planning/SKILL.md created in repo_docs with all sections\n- [ ] Template includes: Goal, Context, Scope, Phases, Versioning, Skills Required, Context Breakpoints, Success Criteria, Risks\n- [ ] Mermaid examples show dependency flow\n- [ ] Frontmatter marked as `tier: rules` (always-loaded)\n- [ ] All open questions from draft answered\n- [ ] Cross-references to versioning/SKILL.md and skill-curation\n- [ ] symlink_docs/plans/ location enforced in guidance\n\n**Result**: Production-ready planning skill that enforces consistency, prevents timeline pressure, and integrates versioning + context management."
  },
  {
    "id": 14,
    "thought": "Download Fastmail application",
    "project": "personal",
    "created": "2026-01-10T03:35:00-07:00",
    "completed": "2026-01-10T03:50:00-07:00",
    "status": "done"
  },
  {
    "id": 15,
    "thought": "Create utilities library following symlink + git hybrid pattern",
    "project": "repo_docs",
    "created": "2026-01-10T03:40:00-07:00",
    "status": "open",
    "skills": ["golden-stack", "skill-curation"],
    "prompt": "Implement a hybrid symlink + git utilities library pattern for shared scripts across projects (following existing symlink_docs + repo_docs/skills patterns).\n\n**Why This Pattern**:\nResearch shows 5 common approaches:\n1. Git submodules - Too complex for bash scripts\n2. Pure symlink (like symlink_docs) - Works locally, doesn't scale to production\n3. Copy-paste with versions - Maintenance nightmare\n4. NPM package - Language-specific, doesn't work for bash\n5. **Hybrid symlink + git (RECOMMENDED)** - Version control + local development flexibility\n\nYour existing patterns already use this:\n- `symlink_docs/plans/` - Planning docs, symlinked locally, git tracked\n- `repo_docs/skills/` - Skills, version controlled, distributed via git\n- This utilities library should follow the hybrid: central GitHub repo + local symlink for development\n\n**Goal**: Create a utilities library that:\n- Lives in GitHub: `https://github.com/StrongPromptAI/utilities`\n- Gets cloned locally to: `~/repos/utilities/`\n- Projects symlink/clone during development: `.claude/hooks → ~/repos/utilities`\n- Scales to production: CI/CD can clone specific version tags\n- Follows your existing patterns (organized by category, documented, versioned)\n\n**Implementation Tasks**:\n\n### Phase 1: Create Local Utilities Directory\n\n1. Create directory structure:\n```bash\nmkdir -p ~/repos/utilities/{error-logging,git-helpers,deployment,hooks}\ncd ~/repos/utilities\n```\n\n2. Initialize git repo:\n```bash\ngit init\ngit config user.email \"claude@strongprompt.ai\"\ngit config user.name \"Claude Code\"\n```\n\n3. Create version file and README:\n```bash\necho \"1.0.0\" > VERSION\n```\n\n**README.md** (root):\n```markdown\n# Utilities Library\n\nShared scripts and utilities for Claude Code projects.\n\n**Version**: 1.0.0\n**Status**: Active\n\n## Available Utilities\n\n### Error Logging\n- `error-logging/log-error.sh` (v1.0.0) - Logs Claude Code errors to PM error-queue\n- Used by: lora_training, repo_docs, bfr-comms, strongprompt-website, mainstreak\n\n### Git Helpers\n- (Reserved for future helpers)\n\n### Deployment\n- (Reserved for future deployment scripts)\n\n### Hooks\n- (Reserved for Claude Code hook templates)\n\n## Usage\n\n**Development (local symlink)**:\n```bash\nln -s ~/repos/utilities ~/.claude/utilities\necho 'source ~/.claude/utilities/error-logging/log-error.sh' >> .claude/hooks/post_tool_error.sh\n```\n\n**Production (git clone)**:\n```bash\ngit clone https://github.com/StrongPromptAI/utilities.git .claude/utilities\n```\n\n## Adding New Utilities\n\nEach utility gets its own subdirectory with:\n- `utility-name.sh` (the script)\n- `SPEC.md` (documentation, usage, dependencies, version)\n- Tests (optional, in `tests/`)\n\n## Versioning\n\nUtilities follow semantic versioning. Update VERSION file when releasing.\n```\n```\n\n### Phase 2: Move log-error.sh to Library\n\n1. Move script:\n```bash\ncp ~/repos/pm/log-error.sh ~/repos/utilities/error-logging/log-error.sh\n```\n\n2. Create SPEC.md for log-error.sh:\n```\n~/repos/utilities/error-logging/SPEC.md\n```\n\nContent:\n```markdown\n# log-error.sh\n\n**Version**: 1.0.0\n**Purpose**: Log Claude Code tool errors to PM error-queue.json\n**Location**: error-logging/log-error.sh\n\n## Usage\n\n```bash\n~/repos/utilities/error-logging/log-error.sh \"Tool\" \"error_type\" \"error_message\" [\"context\"] [\"skill_involved\"] [\"recovery\"]\n```\n\n## Example\n\n```bash\n~/repos/utilities/error-logging/log-error.sh \"Bash\" \"permission_denied\" \"Permission denied: /root\" \"lora_training: git push\"\n```\n\n## Dependencies\n\n- `jq` (JSON processor)\n- `date` command (GNU or BSD)\n- Write access to `~/repos/pm/error-queue.json`\n\n## Error Types\n\n- `not_found` - File/command not found\n- `permission_denied` - Permission error\n- `timeout` - Command timeout\n- `other` - Miscellaneous\n\n## Returns\n\nExits with 0 on success. Error ID printed to stdout.\n\n## Changelog\n\n### 1.0.0 (2026-01-10)\n- Initial release\n- Moved from ~/repos/pm/log-error.sh\n```\n\n### Phase 3: Update Project Hooks to Use Library\n\nFor each active project, update `.claude/hooks/post_tool_error.sh`:\n\n1. **lora_training** (already using log-error.sh)\n   - Update path from `~/repos/pm/log-error.sh` → `~/repos/utilities/error-logging/log-error.sh`\n\n2. **repo_docs**\n   - Same update\n\n3. **bfr-comms**\n   - Same update\n\n4. **strongprompt-website**\n   - Same update\n\n5. **mainstreak**\n   - Same update\n\nExample updated hook:\n```bash\n#!/bin/bash\nTOOL=\"${TOOL:-Unknown}\"\nERROR_TYPE=\"${ERROR_TYPE:-other}\"\nERROR_MESSAGE=\"${ERROR_MESSAGE:-Unknown error}\"\n~/repos/utilities/error-logging/log-error.sh \"$TOOL\" \"$ERROR_TYPE\" \"$ERROR_MESSAGE\" \"[project-name]: tool error\"\n```\n\n### Phase 4: Commit and Push to GitHub\n\n1. Stage files:\n```bash\ncd ~/repos/utilities\ngit add .\n```\n\n2. Create initial commit:\n```bash\ngit commit -m \"Initial commit: Error logging utility library\n\n- Move log-error.sh from pm/ to utilities/error-logging/\n- Add SPEC.md documentation\n- Create README with usage and structure\n- Ready for project integration\"\n```\n\n3. Create GitHub repo:\n   - Go to https://github.com/new\n   - Owner: StrongPromptAI\n   - Name: utilities\n   - Description: \"Shared scripts and utilities for Claude Code projects\"\n   - Public\n   - Create repository (do NOT initialize with README, already have one)\n\n4. Add remote and push:\n```bash\ngit remote add origin https://github.com/StrongPromptAI/utilities.git\ngit branch -M main\ngit push -u origin main\n```\n\n5. Create version tag:\n```bash\ngit tag -a v1.0.0 -m \"Release 1.0.0: Error logging utility\"\ngit push origin v1.0.0\n```\n\n### Phase 5: Testing\n\n1. Verify symlink works locally:\n```bash\nln -s ~/repos/utilities ~/.claude/utilities\nls -la ~/.claude/utilities/error-logging/log-error.sh\n```\n\n2. Test from a project:\n```bash\n# Open Claude Code in lora_training\n# Trigger an error (bad Bash command)\n# Check error-queue.json appended correctly\ncat ~/repos/pm/error-queue.json | jq '.[-1]'\n```\n\n3. Verify GitHub clone works:\n```bash\ngit clone https://github.com/StrongPromptAI/utilities.git /tmp/test-utils\nls /tmp/test-utils/error-logging/\n```\n\n### Phase 6: Documentation\n\nCreate `utilities-setup.md` in repo_docs/skills/ or symlink_docs/ explaining:\n- How developers add new utilities\n- How projects reference utilities\n- How to bump versions\n- Example: Creating a new git-helpers/check-branch.sh utility\n\n**Success Criteria**:\n- [ ] ~/repos/utilities/ directory created with proper structure\n- [ ] log-error.sh moved with SPEC.md documentation\n- [ ] README.md explains library purpose and usage\n- [ ] All 5 projects' hooks updated to use new library path\n- [ ] GitHub repo created at StrongPromptAI/utilities\n- [ ] Initial commit pushed with v1.0.0 tag\n- [ ] Symlink and clone methods both tested working\n- [ ] Error logging continues working from all projects\n- [ ] Documentation created for future utilities\n\n**Result**: Professional, version-controlled utilities library that scales from local development (symlinks) to production (git clone), following your existing symlink_docs + repo_docs/skills patterns."
  }
]
